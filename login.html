<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/login.css">
    <link href="https://use.fontawesome.com/releases/v5.0.1/css/all.css" rel="stylesheet">
    <title>Login/Registeration</title>
</head>
<body>
  <!-- NAVBAR -->
  <header>
    <nav>
        <div class="logo" id="homePageButton">
            <img src="images/logo.png" alt="Final Project">
        </div>
        <div class="nav-links">
            <a href="trackOrder.html">Track Order</a>
            <a href="#">Help</a>
            <a href="login.html">Account</a>
            <i id="cart" class="fa badge fa-lg cart" value=0>&#xf07a;</i>
        </div>
    </nav>
  </header>

  <div class="container" id="mainContainer"></div>

  <script src="script/configuration.js"></script>
  <script src="script/myscript.js"></script>
  <script>
    let host = getHost();
    let params = [];

    parseQueryParameters();
    loadPage(params.login);

    async function parseQueryParameters() {
      var queryString = window.location.search.substring(1); // Get query string without the '?'
      var parameters = {};
      var pairs = queryString.split('&'); // Split query string into key-value pairs
      // Loop through key-value pairs and parse them
      pairs.forEach(function(pair) {
          var keyValue = pair.split('=');
          var key = decodeURIComponent(keyValue[0]);
          var value = decodeURIComponent(keyValue[1]);
          parameters[key] = value;
      });
      params = parameters;
    }

    async function loadPage(loginPage) {
      var div = document.getElementById('mainContainer');
      console.log(loginPage);
      if (!loginPage) {
        let innerHtml = `

        <h1>SIGN UP TO SAVE</h1>
        <div class="buttons">
            <button class="sign-up-btn" onclick='loadPage(false)'>SIGN UP</button>
            <button class="log-in-btn" onclick='loadPage(true)'>LOG IN</button>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" placeholder="name@example.com">
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" placeholder="Password">
            <a href="#" class="show-password">Show Password</a>
        </div>
        <button class="create-account-btn">CREATE AN ACCOUNT</button>
        <p class="terms">By Clicking "Create an Account" you agree to the Terms of Use and Privacy Policy</p>

        `
        div.innerHTML = innerHtml;
      }
      else {
        let innerHtml = `

        <div class="buttons">
            <button class="log-in-btn" onclick='loadPage(false)'>SIGN UP</button>
            <button class="sign-up-btn" onclick='loadPage(true)'>LOG IN</button>
        </div>
        <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" placeholder="name@example.com">
        </div>
        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" placeholder="Password">
            <a href="#" class="show-password">Show Password</a>
        </div>
        <button class="create-account-btn">LOG IN</button>

        `
        div.innerHTML = innerHtml;
      }
    }

    function keepUrlData() {
      var currentUrl = window.location.href;
      var index = currentUrl.indexOf("?");
      currentUrl = currentUrl.substring(index, currentUrl.length);
    }

    document.getElementById("homePageButton").addEventListener('click', function() {
      window.location.href = 'index.html';
    });
  </script>
</body>
</html>